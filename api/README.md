# Flask API
The flask API will be a RESTful API serving training data generated by the NEAT genetic algorithm. Eventually it will  It is run as a containerised application with Docker.

## Getting Started
1. Make sure you have [Docker](https://www.docker.com/) installed.
2. Get the image by either:
    - building the latest image from the api/ directory:
        ```shell
        $ docker build -t eight0153/flask_api .
        ```
        This will download any necessary files and build a Docker image which can be run. The argument '-t flask_api' is used to set the name of the image.
    - or pulling the image from Docker Hub:
        ```shell
        $ docker pull eight0153/flask_api
        ```
        You can specify which tag version you want to pull by appending ':\<tag\>'.
3. Run the image and start a container:
    ```shell
    $ docker run -d -p 5000:5000 eight0153/flask_api
    ```
    Here -d runs the container in the background, allowing the terminal to be used while the API is running. The argument '-p 5000:5000' is used to expose and publish the port 5000 on the docker machine to port 5000 on the host machine. This will also print the container ID which can be used to stop the API later on.
4. You can test the API with the command:
    ```shell
    $ curl http://127.0.0.1:5000/
    ```
    This should display some form of a "Hello, world!" message. You can also navigate to the above URL in a web browser on the host machine and get something similar.
## Stopping the API
* To see what containers are running enter the command:
    ```shell
    $ docker container ls
    ```
    This can be used to find the ID of a container.
* To stop a container first make sure you know its ID (usually just the first few characters are enough) and then enter the command:
    ```shell
    $ docker stop <container_id>
    ```
    making sure to replace \<container_id\> with the container's actual ID.

